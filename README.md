# Rift Vibe Solver

This is a mod for Rift of the Necrodancer which computes (mostly) optimal Vibe activation timings for any chart you play

## To Use

1. Download the lastest version of BepInEx at <https://github.com/BepInEx/BepInEx/releases/latest>
2. Extract the contents of the BepInEx zip archive to your Rift of the Necrodancer game directory (C:\Program Files (x86)\Steam\steamapps\common\RiftOfTheNecroDancerOSTVolume1)
3. Open Rift of the Necrodancer to generate BepInEx config files
4. Download the latest version of RiftVibeSolver at <https://github.com/DominicAglialoro/RiftVibeSolver/releases/latest>
5. Extract the contents of the RiftVibeSolver zip archive to your BepInEx plugins folder (C:\Program Files (x86)\Steam\steamapps\common\RiftOfTheNecroDancerOSTVolume1\BepInEx\plugins)
6. Open Rift of the Necrodancer and play through a chart with the Golden Lute modifier enabled
7. Upon reaching the results screen, a text file (*ChartName*_Vibes.txt) listing the optimal Vibe activations will be written to your Documents folder, as well as a binary file (*ChartName*_Events.bin) which contains information that can be displayed in the Visualizer

## Text File Details

Each line of the generated text file takes the following form:

Beat *StartingBeat* -> *EndingBeat* (-*Tolerance*) \[*Vibes* vibe -> *Score* points\]

* StartingBeat: The beat number of the first enemy you hit after activating Vibe
* EndingBeat: The beat number of the last enemy you hit before Vibe ends
* Tolerance: The maximum amount of time before the starting beat that you can activate Vibe while still getting the maximum possible score value
* Vibes: The number of bars of Vibe you have upon activating Vibe
* Score: The total amount of additional points you gain from using Vibe

The final line of the file indicates the total amount of bonus points you get can get by performing optimal Vibe activations

## Visualizer

To use the Visualizer, run the program and open the .bin file generated by the plugin. Upon opening a file, the Visualizer will display the following:

* Every instant in which you hit an enemy, indicated by a white dot, positioned vertically based on the number of points gained by that hit (multiple simultaneous hits are considered a single hit worth the sum of each hit)
* Every instant in which you gain Vibe, indicated by a vertical yellow line
* The amount of bonus points you'll gain by activating Vibe at any point in time, indicated by a pair of bar graphs (green for single Vibe activations, blue for double Vibe activations)
* The set of optimal Vibe activations, indicated by gold lines on top of the aforementioned bar graphs
* The total amount of bonus points you'll gain by performing all optimal Vibe activations

You can navigate the chart by using the mouse wheel to scroll, and holding shift and scrolling to zoom in or out

Click on the graph to visualize a Vibe activation starting at that particular point in time. Clicking on the lower half of the graph will display a single Vibe activation, while clicking on the upper half of the graph will display a double vibe activation

Press Enter to load a different chart

## Known Issues

* The solver does not account for your ability to squeeze additional hits into a Vibe activation by deliberately hitting enemies early or late
* The solver does not account for the small amount of additional time Vibe remains active after the Vibe meter hits zero
